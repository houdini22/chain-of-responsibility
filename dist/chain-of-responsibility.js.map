{"version":3,"file":"chain-of-responsibility.js","mappings":"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","sources":["webpack://chain-of-responsibility/webpack/bootstrap","webpack://chain-of-responsibility/webpack/runtime/define property getters","webpack://chain-of-responsibility/webpack/runtime/hasOwnProperty shorthand","webpack://chain-of-responsibility/webpack/runtime/make namespace object","webpack://chain-of-responsibility/./src/classes/AbstractChainItemContainer.tsx","webpack://chain-of-responsibility/./src/classes/AbstractChainItem.tsx","webpack://chain-of-responsibility/./src/helpers/object-helper.tsx","webpack://chain-of-responsibility/./src/classes/AbstractChainItemValueContainer.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import AbstractChainItemValueContainer from \"./AbstractChainItemValueContainer\";\nimport AbstractChainItem from \"./AbstractChainItem\";\n\nclass AbstractChainItemContainer {\n  promises: Array<Promise<any>> = [];\n  valueContainer: AbstractChainItemValueContainer = null;\n  firstChainItem: AbstractChainItem = null;\n  promise: Promise<any> = null;\n  resolve: (value: any) => void;\n\n  constructor(valueContainer: AbstractChainItemValueContainer) {\n    this.valueContainer = valueContainer;\n    this.firstChainItem = this.getFirstChainItem();\n    this._createItemsChain(this.firstChainItem);\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n    });\n  }\n\n  _createItemsChain(first: AbstractChainItem): void {}\n\n  _getFirstChainItem(): AbstractChainItem {\n    return null;\n  }\n\n  getValueContainer(): AbstractChainItemValueContainer {\n    return this.valueContainer;\n  }\n\n  getFirstChainItem(): AbstractChainItem {\n    if (!this.firstChainItem) {\n      this.firstChainItem = this._getFirstChainItem();\n    }\n    return this.firstChainItem;\n  }\n\n  addPromise(promise: Promise<any>): AbstractChainItemContainer {\n    this.promises.push(promise);\n    return this;\n  }\n\n  run(): Promise<any> {\n    let item = this.getFirstChainItem();\n    while (item && item.shouldSkip(this.getValueContainer()) === true) {\n      item = item.getNextChainItem();\n    }\n    if (item && item.shouldStopBefore(this.getValueContainer()) === false) {\n      item.execute();\n    }\n    Promise.all(this.promises).then(() => {\n      this.resolve(this.getResult());\n    });\n    return this.promise;\n  }\n\n  getResult(): any {\n    return this.getValueContainer().getResult();\n  }\n}\n\nexport default AbstractChainItemContainer;\n","import AbstractChainItemContainer from \"./AbstractChainItemContainer\";\nimport AbstractChainItemValueContainer from \"./AbstractChainItemValueContainer\";\n\nclass AbstractChainItem {\n  chainContainer: AbstractChainItemContainer = null;\n  nextChainItem: AbstractChainItem = null;\n  promise: Promise<any> = null;\n  resolve: (value: any) => void = null;\n\n  constructor(\n    chainContainer: AbstractChainItemContainer,\n    usePromise: boolean = false\n  ) {\n    this.chainContainer = chainContainer;\n    this.promise = null;\n    this.resolve = null;\n    if (usePromise === true) {\n      this.promise = new Promise((resolve, reject) => {\n        this.resolve = resolve;\n      });\n      this.getChainContainer().addPromise(this.promise);\n    }\n  }\n\n  hasPromise(): boolean {\n    return !!this.promise;\n  }\n\n  getPromise(): Promise<any> {\n    return this.promise;\n  }\n\n  setNextChainItem(chainItem): AbstractChainItem {\n    this.nextChainItem = chainItem;\n    return this;\n  }\n\n  getNextChainItem(): AbstractChainItem | null {\n    return this.nextChainItem;\n  }\n\n  getChainContainer(): AbstractChainItemContainer {\n    return this.chainContainer;\n  }\n\n  getValueContainer(): AbstractChainItemValueContainer {\n    return this.getChainContainer().getValueContainer();\n  }\n\n  executeNext(): any {\n    let next = this.getNextChainItem();\n    if (next) {\n      while (next && next.shouldSkip(this.getValueContainer()) === true) {\n        next = next.getNextChainItem();\n      }\n    }\n    if (next) {\n      if (next.shouldStopBefore(this.getValueContainer()) === false) {\n        return next.execute();\n      }\n    }\n    return this.getValueContainer().getResult();\n  }\n\n  execute(): any {\n    if (this.hasPromise()) {\n      this.getPromise().then(() => {\n        if (this.shouldStopAfter(this.getValueContainer()) === false) {\n          this.executeNext();\n        }\n      });\n    }\n    this._execute(this.getValueContainer(), this.resolve);\n    if (this.shouldStopAfter(this.getValueContainer()) === true) {\n      return this.getValueContainer().getResult();\n    }\n    if (!this.hasPromise()) {\n      return this.executeNext();\n    }\n  }\n\n  _execute(\n    valueContainer: AbstractChainItemValueContainer,\n    resolve: (value: any) => void\n  ) {\n    return false;\n  }\n\n  shouldStopBefore(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n\n  shouldStopAfter(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n\n  shouldSkip(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n}\n\nexport default AbstractChainItem;\n","export const getPropertyByPath = (\n  obj: object,\n  path: string,\n  defaultValue: any = null\n): object => {\n  let arr = path.split(\".\");\n  for (let i = 0; i < arr.length; i += 1) {\n    obj = obj[arr[i]];\n    if (typeof obj === \"undefined\") {\n      return defaultValue;\n    }\n  }\n  return obj;\n};\n\nexport const setPropertyByPath = (\n  obj: object,\n  path: string,\n  value: any\n): void => {\n  let arr = path.split(\".\");\n  let result = obj;\n  for (let i = 0; i < arr.length - 1; i++) {\n    let n = arr[i];\n    if (n in result) {\n      result = result[n];\n    } else {\n      result[n] = {};\n      result = result[n];\n    }\n  }\n  result[arr[arr.length - 1]] = value;\n};\n\nexport default { getPropertyByPath, setPropertyByPath };\n","import objectHelper from \"../helpers/object-helper\";\n\n/**\n * Wrapper for values\n */\nclass AbstractChainItemValueContainer {\n  rawValue: any = null;\n  value: any = null;\n  parameters: object = {};\n\n  constructor(value: any, params: object) {\n    let rawValue;\n\n    // copy value\n    if (Array.isArray(value)) {\n      rawValue = value.concat();\n    } else if (typeof value == \"object\") {\n      rawValue = { ...value };\n    } else {\n      rawValue = value;\n    }\n\n    this.rawValue = rawValue;\n    this.value = this._parseValue(value);\n    this.parameters = params;\n  }\n\n  _parseValue(value: any): any {\n    return value;\n  }\n\n  getRawValue(): any {\n    return this.rawValue;\n  }\n\n  getResult(): any {\n    return this.getValue();\n  }\n\n  getParameter(path: string, defaultValue = null): any {\n    return objectHelper.getPropertyByPath(this.parameters, path, defaultValue);\n  }\n\n  getValue(path: string = null, defaultValue: any = null): any {\n    if (path === null) {\n      return this.value;\n    } else if (typeof path == \"string\") {\n      return objectHelper.getPropertyByPath(this.value, path, defaultValue);\n    }\n    throw \"Wrong usage.\";\n  }\n\n  setValue(path: string, value: any = null): AbstractChainItemValueContainer {\n    if (typeof this.value == \"object\") {\n      objectHelper.setPropertyByPath(this.value, path, value);\n      return this;\n    }\n    this.value = path;\n    return this;\n  }\n}\n\nexport default AbstractChainItemValueContainer;\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","AbstractChainItemContainer","valueContainer","this","firstChainItem","getFirstChainItem","_createItemsChain","promise","Promise","resolve","reject","first","_getFirstChainItem","promises","push","item","shouldSkip","getValueContainer","getNextChainItem","shouldStopBefore","execute","all","then","getResult","AbstractChainItem","chainContainer","usePromise","getChainContainer","addPromise","chainItem","nextChainItem","next","hasPromise","getPromise","shouldStopAfter","executeNext","_execute","path","defaultValue","arr","split","i","length","result","n","AbstractChainItemValueContainer","params","rawValue","Array","isArray","concat","_parseValue","parameters","getValue","objectHelper"],"sourceRoot":""}