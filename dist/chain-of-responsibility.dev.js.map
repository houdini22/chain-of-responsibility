{"version":3,"file":"chain-of-responsibility.dev.js","mappings":"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","sources":["webpack://chain-of-responsibility/./src/classes/AbstractChainItem.tsx","webpack://chain-of-responsibility/./src/classes/AbstractChainItemContainer.tsx","webpack://chain-of-responsibility/./src/classes/AbstractChainItemValueContainer.tsx","webpack://chain-of-responsibility/./src/helpers/object-helper.tsx","webpack://chain-of-responsibility/webpack/bootstrap","webpack://chain-of-responsibility/webpack/runtime/define property getters","webpack://chain-of-responsibility/webpack/runtime/hasOwnProperty shorthand","webpack://chain-of-responsibility/webpack/runtime/make namespace object","webpack://chain-of-responsibility/./src/main.tsx"],"sourcesContent":["import AbstractChainItemContainer from \"./AbstractChainItemContainer\";\nimport AbstractChainItemValueContainer from \"./AbstractChainItemValueContainer\";\n\nclass AbstractChainItem {\n  chainContainer: AbstractChainItemContainer = null;\n  nextChainItem: AbstractChainItem = null;\n  promise: Promise<any> = null;\n  resolve: (value: any) => void = null;\n\n  constructor(\n    chainContainer: AbstractChainItemContainer,\n    usePromise: boolean = false\n  ) {\n    this.chainContainer = chainContainer;\n    this.promise = null;\n    this.resolve = null;\n    if (usePromise === true) {\n      this.promise = new Promise((resolve, reject) => {\n        this.resolve = resolve;\n      });\n      this.getChainContainer().addPromise(this.promise);\n    }\n  }\n\n  hasPromise(): boolean {\n    return !!this.promise;\n  }\n\n  getPromise(): Promise<any> {\n    return this.promise;\n  }\n\n  setNextChainItem(chainItem): AbstractChainItem {\n    this.nextChainItem = chainItem;\n    return this;\n  }\n\n  getNextChainItem(): AbstractChainItem | null {\n    return this.nextChainItem;\n  }\n\n  getChainContainer(): AbstractChainItemContainer {\n    return this.chainContainer;\n  }\n\n  getValueContainer(): AbstractChainItemValueContainer {\n    return this.getChainContainer().getValueContainer();\n  }\n\n  executeNext(): any {\n    let next = this.getNextChainItem();\n    if (next) {\n      while (next && next.shouldSkip(this.getValueContainer()) === true) {\n        next = next.getNextChainItem();\n      }\n    }\n    if (next) {\n      if (next.shouldStopBefore(this.getValueContainer()) === false) {\n        return next.execute();\n      }\n    }\n    return this.getValueContainer().getResult();\n  }\n\n  execute(): any {\n    if (this.hasPromise()) {\n      this.getPromise().then(() => {\n        if (this.shouldStopAfter(this.getValueContainer()) === false) {\n          this.executeNext();\n        }\n      });\n    }\n    this._execute(this.getValueContainer(), this.resolve);\n    if (this.shouldStopAfter(this.getValueContainer()) === true) {\n      return this.getValueContainer().getResult();\n    }\n    if (!this.hasPromise()) {\n      return this.executeNext();\n    }\n  }\n\n  _execute(\n    valueContainer: AbstractChainItemValueContainer,\n    resolve: (value: any) => void\n  ) {\n    return false;\n  }\n\n  shouldStopBefore(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n\n  shouldStopAfter(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n\n  shouldSkip(valueContainer: AbstractChainItemValueContainer): boolean {\n    return false;\n  }\n}\n\nexport default AbstractChainItem;\n","import AbstractChainItemValueContainer from \"./AbstractChainItemValueContainer\";\nimport AbstractChainItem from \"./AbstractChainItem\";\n\nclass AbstractChainItemContainer {\n  promises: Array<Promise<any>> = [];\n  valueContainer: AbstractChainItemValueContainer = null;\n  firstChainItem: AbstractChainItem = null;\n  promise: Promise<any> = null;\n  resolve: (value: any) => void;\n\n  constructor(valueContainer: AbstractChainItemValueContainer) {\n    this.valueContainer = valueContainer;\n    this.firstChainItem = this.getFirstChainItem();\n    this._createItemsChain(this.firstChainItem);\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n    });\n  }\n\n  _createItemsChain(first: AbstractChainItem): void {}\n\n  _getFirstChainItem(): AbstractChainItem {\n    return null;\n  }\n\n  getValueContainer(): AbstractChainItemValueContainer {\n    return this.valueContainer;\n  }\n\n  getFirstChainItem(): AbstractChainItem {\n    if (!this.firstChainItem) {\n      this.firstChainItem = this._getFirstChainItem();\n    }\n    return this.firstChainItem;\n  }\n\n  addPromise(promise: Promise<any>): AbstractChainItemContainer {\n    this.promises.push(promise);\n    return this;\n  }\n\n  run(): Promise<any> {\n    let item = this.getFirstChainItem();\n    while (item && item.shouldSkip(this.getValueContainer()) === true) {\n      item = item.getNextChainItem();\n    }\n    if (item && item.shouldStopBefore(this.getValueContainer()) === false) {\n      item.execute();\n    }\n    Promise.all(this.promises).then(() => {\n      this.resolve(this.getResult());\n    });\n    return this.promise;\n  }\n\n  getResult(): any {\n    return this.getValueContainer().getResult();\n  }\n}\n\nexport default AbstractChainItemContainer;\n","import objectHelper from \"../helpers/object-helper\";\n\n/**\n * Wrapper for values\n */\nclass AbstractChainItemValueContainer {\n  rawValue: any = null;\n  value: any = null;\n  parameters: object = {};\n\n  constructor(value: any, params: object) {\n    let rawValue;\n\n    // copy value\n    if (Array.isArray(value)) {\n      rawValue = value.concat();\n    } else if (typeof value == \"object\") {\n      rawValue = { ...value };\n    } else {\n      rawValue = value;\n    }\n\n    this.rawValue = rawValue;\n    this.value = this._parseValue(value);\n    this.parameters = params;\n  }\n\n  _parseValue(value: any): any {\n    return value;\n  }\n\n  getRawValue(): any {\n    return this.rawValue;\n  }\n\n  getResult(): any {\n    return this.getValue();\n  }\n\n  getParameter(path: string, defaultValue = null): any {\n    return objectHelper.getPropertyByPath(this.parameters, path, defaultValue);\n  }\n\n  getValue(path: string = null, defaultValue: any = null): any {\n    if (path === null) {\n      return this.value;\n    } else if (typeof path == \"string\") {\n      return objectHelper.getPropertyByPath(this.value, path, defaultValue);\n    }\n    throw \"Wrong usage.\";\n  }\n\n  setValue(path: string, value: any = null): AbstractChainItemValueContainer {\n    if (typeof this.value == \"object\") {\n      objectHelper.setPropertyByPath(this.value, path, value);\n      return this;\n    }\n    this.value = path;\n    return this;\n  }\n}\n\nexport default AbstractChainItemValueContainer;\n","export const getPropertyByPath = (\n  obj: object,\n  path: string,\n  defaultValue: any = null\n): object => {\n  let arr = path.split(\".\");\n  for (let i = 0; i < arr.length; i += 1) {\n    obj = obj[arr[i]];\n    if (typeof obj === \"undefined\") {\n      return defaultValue;\n    }\n  }\n  return obj;\n};\n\nexport const setPropertyByPath = (\n  obj: object,\n  path: string,\n  value: any\n): void => {\n  let arr = path.split(\".\");\n  let result = obj;\n  for (let i = 0; i < arr.length - 1; i++) {\n    let n = arr[i];\n    if (n in result) {\n      result = result[n];\n    } else {\n      result[n] = {};\n      result = result[n];\n    }\n  }\n  result[arr[arr.length - 1]] = value;\n};\n\nexport default { getPropertyByPath, setPropertyByPath };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import AbstractChainItemContainer from \"./classes/AbstractChainItemContainer\";\nimport AbstractChainItem from \"./classes/AbstractChainItem\";\nimport AbstractChainItemValueContainer from \"./classes/AbstractChainItemValueContainer\";\n\nexport {\n  AbstractChainItemContainer,\n  AbstractChainItem,\n  AbstractChainItemValueContainer,\n};\n"],"names":["AbstractChainItem","chainContainer","usePromise","promise","resolve","Promise","reject","getChainContainer","addPromise","chainItem","nextChainItem","getValueContainer","next","getNextChainItem","shouldSkip","shouldStopBefore","execute","getResult","hasPromise","getPromise","then","shouldStopAfter","executeNext","_execute","valueContainer","AbstractChainItemContainer","firstChainItem","getFirstChainItem","_createItemsChain","first","_getFirstChainItem","promises","push","item","all","objectHelper","AbstractChainItemValueContainer","value","params","rawValue","Array","isArray","concat","_parseValue","parameters","getValue","path","defaultValue","getPropertyByPath","setPropertyByPath","obj","arr","split","i","length","result","n"],"sourceRoot":""}